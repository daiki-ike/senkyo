<!DOCTYPE html>
<html lang="ja" prefix="og: http://ogp.me/ns#">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç°¡å˜ã«ã‚ã‹ã‚‹ï¼æœªæ¥ã‚’é¸ã¶é¸æŒ™ã‚¬ã‚¤ãƒ‰ 2026</title>
    
    <!-- ==========================================
         OGP SETTINGS (SNSã‚·ã‚§ã‚¢ç”¨è¨­å®š)
         ========================================== -->
    <meta property="og:title" content="ä¸­å­¦ç”Ÿã§ã‚‚ã‚ã‹ã‚‹ï¼æœªæ¥ã‚’é¸ã¶é¸æŒ™ã‚¬ã‚¤ãƒ‰" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://daiki-ike.github.io/senkyo/" />
    <meta property="og:image" content="https://placehold.co/1200x630/orange/white/png?text=Election+Guide+2025" />
    <!-- ğŸ‘† ã€é‡è¦ã€‘GitHubã« 'ogp.png' ã¨ã„ã†ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸã‚‰ã€ä¸Šè¨˜ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãæ›ãˆã¦ãã ã•ã„ï¼š
         <meta property="og:image" content="https://daiki-ike.github.io/senkyo/ogp.png" /> 
    -->
    <meta property="og:description" content="é›£ã—ã„è¨€è‘‰ãªã—ã§ã€å„æ”¿å…šã®ä¸»å¼µã‚’ã‚µã‚¯ãƒƒã¨æ¯”è¼ƒï¼ã‚ãªãŸã®æ°—ã«ãªã‚‹ãƒ†ãƒ¼ãƒã¯ï¼Ÿ" />
    <meta property="og:site_name" content="æœªæ¥ã‚’é¸ã¶é¸æŒ™ã‚¬ã‚¤ãƒ‰" />
    <meta property="og:locale" content="ja_JP" />
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="ä¸­å­¦ç”Ÿã§ã‚‚ã‚ã‹ã‚‹ï¼æœªæ¥ã‚’é¸ã¶é¸æŒ™ã‚¬ã‚¤ãƒ‰" />
    <meta name="twitter:description" content="3åˆ†ã§ã‚ã‹ã‚‹æ”¿å…šæ¯”è¼ƒã€‚ã‚ãªãŸã®æ¨ã—ãƒ†ãƒ¼ãƒã§æœªæ¥ã‚’é¸ã¼ã†ã€‚" />
    <meta name="twitter:image" content="https://placehold.co/1200x630/orange/white/png?text=Election+Guide+2025" />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Google Fonts: Noto Sans JP for readability -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #fdfbf7; /* Warm neutral background */
            color: #4a4a4a;
        }
        .card-shadow {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .card-shadow:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .active-tab {
            background-color: #f97316; /* Orange-500 */
            color: white;
            font-weight: bold;
        }
        .inactive-tab {
            background-color: #ffffff;
            color: #4b5563;
            border: 2px solid #e5e7eb;
        }
        .chart-container {
            position: relative; 
            width: 100%; 
            max-width: 600px; 
            margin-left: auto; 
            margin-right: auto; 
            height: 300px; 
            max-height: 400px;
        }
        /* Party Colors for borders/badges */
        .border-ldp { border-left: 5px solid #d91f26; } /* Jiminto Red */
        .border-cdp { border-left: 5px solid #004098; } /* Rikken Blue */
        .border-ishin { border-left: 5px solid #a3cc29; } /* Ishin Green */
        .border-komei { border-left: 5px solid #f55883; } /* Komei Pink */
        .border-jcp { border-left: 5px solid #5a2e8c; } /* Kyosan Purple */
        .border-dpp { border-left: 5px solid #fbbf16; } /* Kokumin Yellow */
        .border-reiwa { border-left: 5px solid #e7007f; } /* Reiwa Pink */
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Navbar -->
    <nav class="bg-white shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <span class="text-2xl">ğŸ—³ï¸</span>
                <h1 class="text-lg md:text-xl font-bold text-gray-800">æœªæ¥ã‚’é¸ã¶é¸æŒ™ã‚¬ã‚¤ãƒ‰</h1>
            </div>
            <div class="hidden md:flex space-x-6 text-sm font-medium">
                <a href="#themes" class="hover:text-orange-500">ãƒ†ãƒ¼ãƒã§æ¯”ã¹ã‚‹</a>
                <a href="#parties" class="hover:text-orange-500">æ”¿å…šå›³é‘‘</a>
                <a href="#matrix" class="hover:text-orange-500">â—‹Ã—æ—©è¦‹è¡¨</a>
                <a href="#poll" class="hover:text-orange-500">ã¿ã‚“ãªã®å£°</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="bg-gradient-to-br from-orange-50 to-yellow-50 py-12">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">ç§ãŸã¡ã®æœªæ¥ã€ã©ã†ã™ã‚‹ï¼Ÿ</h2>
            <p class="text-lg text-gray-600 max-w-2xl mx-auto mb-8">
                é¸æŒ™ã¯ã€ã“ã‚Œã‹ã‚‰ã®æ—¥æœ¬ã‚’ã©ã‚“ãªå›½ã«ã—ãŸã„ã‹æ±ºã‚ã‚‹å¤§åˆ‡ãªã‚¤ãƒ™ãƒ³ãƒˆã§ã™ã€‚<br>
                é›£ã—ã„è¨€è‘‰ã‚’ä½¿ã‚ãšã«ã€å„æ”¿å…šãŒã€Œä½•ã‚’ã—ãŸã„ã‹ã€ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚
            </p>
            <a href="#themes" class="inline-block bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-transform transform hover:scale-105">
                ã•ã£ããè¦‹ã¦ã¿ã‚‹ ğŸ‘‡
            </a>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 py-8 space-y-16">

        <!-- SECTION 1: Theme Explorer -->
        <section id="themes">
            <div class="text-center mb-8">
                <h3 class="text-2xl font-bold text-gray-800 flex items-center justify-center gap-2">
                    <span class="text-3xl">ğŸ”</span> ãƒ†ãƒ¼ãƒã§æ¯”ã¹ã‚‹
                </h3>
                <p class="text-gray-600 mt-2">æ°—ã«ãªã‚‹ãƒ†ãƒ¼ãƒã‚’é¸ã¶ã¨ã€å„æ”¿å…šã®æ„è¦‹ãŒå‡ºã¦ãã¾ã™ã€‚</p>
            </div>

            <!-- Theme Buttons -->
            <div class="flex flex-wrap justify-center gap-4 mb-8" id="theme-buttons">
                <!-- Populated by JS -->
            </div>

            <!-- Dynamic Comparison Cards -->
            <div id="theme-content" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Content injected by JS -->
                <div class="col-span-full text-center py-10 text-gray-500">
                    ä¸Šã®ãƒœã‚¿ãƒ³ã‹ã‚‰ãƒ†ãƒ¼ãƒã‚’é¸ã‚“ã§ã­ï¼
                </div>
            </div>
        </section>

        <!-- SECTION 2: Party Zukan (Directory) -->
        <section id="parties" class="bg-white rounded-2xl p-6 md:p-10 shadow-sm border border-gray-100">
            <div class="text-center mb-8">
                <h3 class="text-2xl font-bold text-gray-800 flex items-center justify-center gap-2">
                    <span class="text-3xl">ğŸ“–</span> æ”¿å…šå›³é‘‘ (ã›ã„ã¨ã†ãšã‹ã‚“)
                </h3>
                <p class="text-gray-600 mt-2">ä¸»ãªæ”¿å…šã®ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ã¨ç‰¹å¾´ã‚’ãƒã‚§ãƒƒã‚¯ï¼</p>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4" id="party-grid">
                <!-- Populated by JS -->
            </div>
        </section>

        <!-- SECTION 3: Yes/No Matrix -->
        <section id="matrix">
            <div class="text-center mb-8">
                <h3 class="text-2xl font-bold text-gray-800 flex items-center justify-center gap-2">
                    <span class="text-3xl">âš–ï¸</span> 3ç§’ã§ã‚ã‹ã‚‹ï¼â—‹Ã—æ—©è¦‹è¡¨
                </h3>
                <p class="text-gray-600 mt-2">å¤§ããªå•é¡Œã«ã¤ã„ã¦ã€è³›æˆï¼Ÿåå¯¾ï¼Ÿ</p>
            </div>

            <div class="overflow-x-auto bg-white rounded-xl shadow-sm border border-gray-200">
                <table class="w-full min-w-[600px] text-left border-collapse">
                    <thead>
                        <tr class="bg-gray-50 text-gray-700">
                            <th class="p-4 font-bold border-b">æ”¿å…šå</th>
                            <th class="p-4 font-bold border-b text-center">æ†²æ³•ã‚’å¤‰ãˆã‚‹ï¼Ÿ</th>
                            <th class="p-4 font-bold border-b text-center">æ¶ˆè²»ç¨ã‚’ä¸‹ã’ã‚‹ï¼Ÿ</th>
                            <th class="p-4 font-bold border-b text-center">é«˜æ ¡ãƒ»å¤§å­¦ç„¡å„ŸåŒ–</th>
                            <th class="p-4 font-bold border-b text-center">åŸç™º(ã’ã‚“ã±ã¤)ã‚’ä½¿ã†ï¼Ÿ</th>
                        </tr>
                    </thead>
                    <tbody id="matrix-body" class="text-sm">
                        <!-- Populated by JS -->
                    </tbody>
                </table>
            </div>
            <p class="text-xs text-right text-gray-400 mt-2">â€»å„å…šã®å…¬ç´„ã‚„ç™ºè¨€ã‚’ã‚‚ã¨ã«ã—ãŸå¤§ã¾ã‹ãªå‚¾å‘ã§ã™ã€‚</p>
        </section>

        <!-- SECTION 4: Interactive Poll & Chart -->
        <section id="poll" class="grid md:grid-cols-2 gap-8 items-start">
            <!-- Poll Input -->
            <div class="bg-orange-50 rounded-2xl p-8">
                <h3 class="text-xl font-bold text-gray-800 mb-4">ã‚ãªãŸã®å£°ã‚’èã‹ã›ã¦ï¼</h3>
                <p class="text-gray-600 mb-6">ã‚ãªãŸãŒä¸€ç•ªå¤§åˆ‡ã ã¨æ€ã†ãƒ†ãƒ¼ãƒã¯ã©ã‚Œã§ã™ã‹ï¼Ÿï¼ˆã‚¯ãƒªãƒƒã‚¯ã—ã¦æŠ•ç¥¨ï¼ï¼‰</p>
                <div class="space-y-3" id="poll-options">
                    <button onclick="vote('economy')" class="w-full text-left bg-white hover:bg-orange-100 p-4 rounded-lg shadow-sm border border-orange-100 transition flex justify-between items-center group">
                        <span>ğŸ’´ ãŠé‡‘ã¨æš®ã‚‰ã—ï¼ˆç‰©ä¾¡ãƒ»ç¨é‡‘ï¼‰</span>
                        <span class="text-orange-400 opacity-0 group-hover:opacity-100">æŠ•ç¥¨ â†’</span>
                    </button>
                    <button onclick="vote('education')" class="w-full text-left bg-white hover:bg-orange-100 p-4 rounded-lg shadow-sm border border-orange-100 transition flex justify-between items-center group">
                        <span>ğŸ« å­¦æ ¡ã¨å­è‚²ã¦ï¼ˆæ•™è‚²ç„¡å„ŸåŒ–ï¼‰</span>
                        <span class="text-orange-400 opacity-0 group-hover:opacity-100">æŠ•ç¥¨ â†’</span>
                    </button>
                    <button onclick="vote('peace')" class="w-full text-left bg-white hover:bg-orange-100 p-4 rounded-lg shadow-sm border border-orange-100 transition flex justify-between items-center group">
                        <span>ğŸ•Šï¸ å¹³å’Œã¨å¤–äº¤ï¼ˆé˜²è¡›è²»ãªã©ï¼‰</span>
                        <span class="text-orange-400 opacity-0 group-hover:opacity-100">æŠ•ç¥¨ â†’</span>
                    </button>
                    <button onclick="vote('future')" class="w-full text-left bg-white hover:bg-orange-100 p-4 rounded-lg shadow-sm border border-orange-100 transition flex justify-between items-center group">
                        <span>ğŸŒ æœªæ¥ã¨ç’°å¢ƒï¼ˆã‚¨ãƒãƒ«ã‚®ãƒ¼ï¼‰</span>
                        <span class="text-orange-400 opacity-0 group-hover:opacity-100">æŠ•ç¥¨ â†’</span>
                    </button>
                </div>
            </div>

            <!-- Chart Display -->
            <div class="bg-white rounded-2xl p-6 shadow-sm border border-gray-100 flex flex-col items-center justify-center min-h-[400px]">
                <h4 class="font-bold text-gray-700 mb-4">ã¿ã‚“ãªã®é–¢å¿ƒ</h4>
                
                <!-- Chart Container -->
                <div class="chart-container relative flex items-center justify-center">
                    <canvas id="pollChart"></canvas>
                    <!-- Zero State Overlay -->
                    <div id="no-votes-msg" class="absolute inset-0 flex items-center justify-center pointer-events-none">
                        <span class="bg-white/80 px-4 py-2 rounded-full text-gray-500 font-bold shadow-sm backdrop-blur-sm">
                            ã¾ã æŠ•ç¥¨ãŒã‚ã‚Šã¾ã›ã‚“<br><span class="text-xs font-normal">ä¸€ç•ªä¹—ã‚Šã§æŠ•ç¥¨ã—ã‚ˆã†ï¼</span>
                        </span>
                    </div>
                </div>
                
                <p class="text-xs text-gray-400 mt-4 text-center">â€»ã“ã®ãƒãƒ£ãƒ¼ãƒˆã¯ã€ãƒšãƒ¼ã‚¸ä¸Šã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚ã‚Šã€å®Ÿéš›ã®é¸æŒ™çµæœã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
            </div>
        </section>

    </main>

    <footer class="bg-gray-800 text-white py-8 mt-12">
        <div class="container mx-auto px-4 text-center">
            <p class="mb-2">ğŸ‡¯ğŸ‡µ é¸æŒ™ã«è¡Œã“ã†ï¼</p>
            <p class="text-xs text-gray-400">
                ã“ã®ã‚µã‚¤ãƒˆã¯ä¸­å­¦ç”Ÿå‘ã‘ã«æ”¿ç­–ã‚’ã‚ã‹ã‚Šã‚„ã™ãè¦ç´„ã—ãŸå­¦ç¿’ç”¨ãƒ‡ãƒ¢ã§ã™ã€‚<br>
                å®Ÿéš›ã®æŠ•ç¥¨ã®éš›ã¯ã€å„æ”¿å…šã®å…¬å¼ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã‚„é¸æŒ™å…¬å ±ã‚’å¿…ãšç¢ºèªã—ã¦ãã ã•ã„ã€‚
            </p>
        </div>
    </footer>

    <!-- Chosen Palette: Warm Neutral & Orange (Energetic but friendly) -->
    <!-- Application Structure Plan:
         - Updated with Open Graph Protocol (OGP) tags for Facebook/SNS sharing.
         - Poll Data initialized to ZERO. Added visual feedback for empty state.
    -->
    <!-- Visualization & Content Choices:
         - Poll Chart: Now starts empty. On first click, removes the "No votes" overlay and shows the data.
         - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->

    <script>
        // --- DATASET: Party Info & Stances ---
        const parties = [
            {
                id: 'ldp', name: 'è‡ªæ°‘å…š', fullName: 'è‡ªç”±æ°‘ä¸»å…š', color: '#d91f26', borderClass: 'border-ldp',
                slogan: 'æ—¥æœ¬ã®æœªæ¥ã‚’åˆ‡ã‚Šæ‹“ã',
                desc: 'é•·ãæ”¿æ¨©ã‚’æ‹…å½“ã—ã¦ã„ã‚‹å¤§ããªã‚°ãƒ«ãƒ¼ãƒ—ã€‚çµŒæ¸ˆã‚’å¼·ãã™ã‚‹ã“ã¨ã‚„ã€å¤–äº¤ãƒ»é˜²è¡›ã§å›½ã‚’å®ˆã‚‹ã“ã¨ã‚’é‡è¦–ã€‚',
                stances: {
                    economy: 'ä¼æ¥­ã‚’å…ƒæ°—ã«ã—ã¦è³ƒé‡‘ã‚’ä¸Šã’ã‚‹ã€‚ç‰©ä¾¡é«˜ã«ã¯çµ¦ä»˜é‡‘ã§å¯¾å¿œã€‚',
                    education: 'æ•™è‚²ã®è³ªã‚’ä¸Šã’ã‚‹ã€‚å¥¨å­¦é‡‘ã‚’å……å®Ÿã•ã›ã‚‹ã€‚',
                    peace: 'é˜²è¡›åŠ›ã‚’å¼·ãã—ã¦å›½ã‚’å®ˆã‚‹ã€‚æ†²æ³•ã«è‡ªè¡›éšŠã‚’æ˜è¨˜ã—ãŸã„ã€‚',
                    future: 'æ–°ã—ã„ã‚¨ãƒãƒ«ã‚®ãƒ¼æŠ€è¡“ã‚’é–‹ç™ºã€‚åŸç™ºã‚‚å®‰å…¨ç¢ºèªã—ã¦ä½¿ã†ã€‚',
                    const_change: 'è³›æˆ', tax_cut: 'ç¾çŠ¶ç¶­æŒ', free_edu: 'æ®µéšçš„', nuke: 'æ´»ç”¨'
                }
            },
            {
                id: 'cdp', name: 'ç«‹æ†²æ°‘ä¸»å…š', fullName: 'ç«‹æ†²æ°‘ä¸»å…š', color: '#004098', borderClass: 'border-cdp',
                slogan: 'äººã¸ æœªæ¥ã¸ ã¾ã£ã¨ã†ãªæ”¿æ²»ã¸',
                desc: 'ä»Šã®æ”¿åºœã®ã‚„ã‚Šæ–¹ã‚’æ‰¹åˆ¤ã—ã€ã‚‚ã£ã¨ä¸€èˆ¬ã®äººã‚„åƒãäººã‚’æ”¯æ´ã—ã‚ˆã†ã¨ã„ã†ã‚°ãƒ«ãƒ¼ãƒ—ã€‚',
                stances: {
                    economy: 'åƒãäººã®æ¨©åˆ©ã‚’å®ˆã‚‹ã€‚ä¸€éƒ¨ã®ãŠé‡‘æŒã¡ã¸ã®èª²ç¨ã‚’å¼·åŒ–ã€‚',
                    education: 'å¤§å­¦ã¾ã§æˆæ¥­æ–™ã‚’ç„¡å„Ÿï¼ˆã‚¿ãƒ€ï¼‰ã«ã™ã‚‹ã‚’ç›®æŒ‡ã™ã€‚çµ¦é£Ÿè²»ã‚‚ç„¡å„ŸåŒ–ã€‚',
                    peace: 'å¯¾è©±ã‚’é‡è¦–ã™ã‚‹å¤–äº¤ã€‚æ€¥æ¿€ãªé˜²è¡›è²»ã®å¢—é¡ã«ã¯æ…é‡ã€‚',
                    future: 'å†ç”Ÿå¯èƒ½ã‚¨ãƒãƒ«ã‚®ãƒ¼ï¼ˆå¤ªé™½å…‰ã‚„é¢¨åŠ›ï¼‰ã‚’ã‚‚ã£ã¨å¢—ã‚„ã™ã€‚åŸç™ºã‚¼ãƒ­ã‚’ç›®æŒ‡ã™ã€‚',
                    const_change: 'æ…é‡', tax_cut: 'æ¤œè¨', free_edu: 'æ¨é€²', nuke: 'ã‚¼ãƒ­ã¸'
                }
            },
            {
                id: 'ishin', name: 'æ—¥æœ¬ç¶­æ–°ã®ä¼š', fullName: 'æ—¥æœ¬ç¶­æ–°ã®ä¼š', color: '#a3cc29', borderClass: 'border-ishin',
                slogan: 'æ—¥æœ¬å¤§æ”¹é©',
                desc: 'å¤ã„ãƒ«ãƒ¼ãƒ«ã‚’å£Šã—ã¦æ–°ã—ãä½œã‚Šç›´ãã†ã¨ã™ã‚‹ã‚°ãƒ«ãƒ¼ãƒ—ã€‚å¤§é˜ªã‚’ä¸­å¿ƒã«åŠ›ãŒå¼·ã„ã€‚',
                stances: {
                    economy: 'è¦åˆ¶ï¼ˆãã›ã„ï¼‰ã‚’ãªãã—ã¦æ–°ã—ã„ãƒ“ã‚¸ãƒã‚¹ã‚’ä½œã‚Šã‚„ã™ãã™ã‚‹ã€‚',
                    education: 'é«˜æ ¡ã‚‚å¤§å­¦ã‚‚å®Œå…¨ã«ç„¡å„ŸåŒ–ï¼ˆã‚¿ãƒ€ï¼‰ã«ã™ã‚‹ã€Œæ•™è‚²ç„¡å„ŸåŒ–ã€ã‚’æœ€å„ªå…ˆã€‚',
                    peace: 'è‡ªåˆ†ã®å›½ã¯è‡ªåˆ†ã§å®ˆã‚‹åŠ›ã‚’ã¤ã‘ã‚‹ã€‚æ ¸å…±æœ‰ã®è­°è«–ã‚‚ã™ã‚‹ã¹ãã€‚',
                    future: 'æ—¢å¾—æ¨©ç›Šï¼ˆæ˜”ã‹ã‚‰ã®åˆ©ç›Šï¼‰ã‚’å£Šã—ã€åœ°æ–¹ã‚’å…ƒæ°—ã«ã™ã‚‹ã€‚',
                    const_change: 'ç©æ¥µçš„', tax_cut: 'æ¸›ç¨', free_edu: 'å®Œå…¨ç„¡å„Ÿ', nuke: 'æ˜¯ã€…éã€…'
                }
            },
            {
                id: 'komei', name: 'å…¬æ˜å…š', fullName: 'å…¬æ˜å…š', color: '#f55883', borderClass: 'border-komei',
                slogan: 'å°ã•ãªå£°ã‚’ã€è´ãåŠ›ã€‚',
                desc: 'ç¦ç¥‰ï¼ˆãµãã—ï¼‰ã‚„å¹³å’Œã‚’å¤§åˆ‡ã«ã™ã‚‹ã‚°ãƒ«ãƒ¼ãƒ—ã€‚è‡ªæ°‘å…šã¨ä¸€ç·’ã«æ”¿æ¨©ã‚’æŒã£ã¦ã„ã‚‹ã€‚',
                stances: {
                    economy: 'é›»æ°—ä»£ã‚„ã‚¬ã‚¹ä»£ã®è£œåŠ©ãªã©ã€å®¶è¨ˆã®è² æ‹…ã‚’æ¸›ã‚‰ã™ã€‚',
                    education: 'ã€Œå­è‚²ã¦å¿œæ´ãƒˆãƒ¼ã‚¿ãƒ«ãƒ—ãƒ©ãƒ³ã€ã§ã€å‡ºç”£ã‹ã‚‰æ•™è‚²ã¾ã§æ”¯æ´ã€‚',
                    peace: 'å¹³å’Œå¤–äº¤ã‚’å¤§åˆ‡ã«ã™ã‚‹ã€‚æ ¸å…µå™¨ã®ãªã„ä¸–ç•Œã‚’ç›®æŒ‡ã™ã€‚',
                    future: 'äººã«å„ªã—ã„ç¤¾ä¼šã‚’ä½œã‚‹ã€‚é˜²ç½ï¼ˆã¼ã†ã•ã„ï¼‰å¯¾ç­–ã‚’å¼·åŒ–ã€‚',
                    const_change: 'åŠ æ†²', tax_cut: 'æ…é‡', free_edu: 'æ¨é€²', nuke: 'æ¸›ã‚‰ã™'
                }
            },
            {
                id: 'dpp', name: 'å›½æ°‘æ°‘ä¸»å…š', fullName: 'å›½æ°‘æ°‘ä¸»å…š', color: '#fbbf16', borderClass: 'border-dpp',
                slogan: 'çµ¦æ–™ãŒä¸ŠãŒã‚‹çµŒæ¸ˆã‚’',
                desc: 'ã€Œå¯¾æ±ºã‚ˆã‚Šè§£æ±ºã€ã‚’æ²ã’ã€ç¾å®Ÿçš„ãªæ”¿ç­–ã‚’ææ¡ˆã™ã‚‹ã‚°ãƒ«ãƒ¼ãƒ—ã€‚è‹¥è€…æ”¯æ´ã«ç†±å¿ƒã€‚',
                stances: {
                    economy: 'ã€Œæ‰‹å–ã‚Šã€ã‚’å¢—ã‚„ã™ã€‚ã‚¬ã‚½ãƒªãƒ³ç¨ã‚’ä¸‹ã’ã‚‹ã€‚',
                    education: 'æ•™è‚²ã‚„ç§‘å­¦æŠ€è¡“ã«ãŠé‡‘ã‚’ä½¿ã†ã€Œäººã¸ã®æŠ•è³‡ã€ã‚’å€å¢—ã€‚',
                    peace: 'è‡ªåˆ†ã®å›½ã‚’å®ˆã‚‹ãŸã‚ã€ã‚µã‚¤ãƒãƒ¼é˜²å¾¡ãªã©ã‚’å¼·åŒ–ã™ã‚‹ã€‚',
                    future: 'æ–°ã—ã„æŠ€è¡“ã§çµŒæ¸ˆã‚’æˆé•·ã•ã›ã‚‹ã€‚åŸç™ºã‚‚æ´»ç”¨ã—ã¦é›»æ°—ä»£ã‚’ä¸‹ã’ã‚‹ã€‚',
                    const_change: 'è­°è«–', tax_cut: 'æ¸›ç¨', free_edu: 'æ¨é€²', nuke: 'æ´»ç”¨'
                }
            },
            {
                id: 'jcp', name: 'å…±ç”£å…š', fullName: 'æ—¥æœ¬å…±ç”£å…š', color: '#5a2e8c', borderClass: 'border-jcp',
                slogan: 'å›½æ°‘ãŒä¸»äººå…¬',
                desc: 'ä¼æ¥­ã‚ˆã‚Šå›½æ°‘ã®ç”Ÿæ´»ã‚’æœ€å„ªå…ˆã™ã‚‹æ­´å²ã‚ã‚‹ã‚°ãƒ«ãƒ¼ãƒ—ã€‚ã‚¢ãƒ¡ãƒªã‚«ã¨ã®è»äº‹åŒç›Ÿã«åå¯¾ã€‚',
                stances: {
                    economy: 'å¤§ä¼æ¥­ã¸ã®èª²ç¨ã‚’å¢—ã‚„ã—ã€æ¶ˆè²»ç¨ã‚’5%ã«ä¸‹ã’ã‚‹ã€‚é•·æ™‚é–“åŠ´åƒã‚’ãªãã™ã€‚',
                    education: 'é«˜ã™ãã‚‹å­¦è²»ã‚’ã™ãã«åŠé¡ã«ã—ã€å°†æ¥ã¯ç„¡å„Ÿã«ã€‚',
                    peace: 'è»äº‹åŠ›ã§ã¯ãªãã€è©±ã—åˆã„ï¼ˆå¤–äº¤ï¼‰ã§å¹³å’Œã‚’ä½œã‚‹ã€‚',
                    future: 'åŸç™ºã¯ã™ãã«ã‚¼ãƒ­ã«ã™ã‚‹ã€‚çŸ³ç‚­ç«åŠ›ç™ºé›»ã‚‚ãªãã™ã€‚',
                    const_change: 'åå¯¾', tax_cut: '5%ã¸', free_edu: 'æ¨é€²', nuke: 'å³æ™‚ã‚¼ãƒ­'
                }
            },
            {
                id: 'reiwa', name: 'ã‚Œã„ã‚', fullName: 'ã‚Œã„ã‚æ–°é¸çµ„', color: '#e7007f', borderClass: 'border-reiwa',
                slogan: 'ä½•ãŒã‚ã£ã¦ã‚‚å¿ƒé…ã™ã‚‹ãª',
                desc: 'æ¶ˆè²»ç¨å»ƒæ­¢ãªã©ã€å¤§èƒ†ãªçµŒæ¸ˆæ”¿ç­–ã‚’è¨´ãˆã‚‹ã‚°ãƒ«ãƒ¼ãƒ—ã€‚',
                stances: {
                    economy: 'æ¶ˆè²»ç¨ã¯å»ƒæ­¢ã€‚å­£ç¯€ã”ã¨ã«10ä¸‡å††ã‚’é…ã‚‹ãªã©ã—ã¦æ™¯æ°—ã‚’è‰¯ãã™ã‚‹ã€‚',
                    education: 'å¥¨å­¦é‡‘ã®è¿”æ¸ˆã‚’ãƒãƒ£ãƒ©ã«ã™ã‚‹ï¼ˆå¾³æ”¿ä»¤ï¼‰ã€‚',
                    peace: 'ã‚¢ã‚¸ã‚¢è«¸å›½ã¨å¾¹åº•çš„ã«å¹³å’Œå¤–äº¤ã‚’è¡Œã†ã€‚',
                    future: 'å›½ãŒã‚‚ã£ã¨ãŠé‡‘ã‚’å‡ºã—ã¦ã€ã¿ã‚“ãªã®ç”Ÿæ´»ã‚’åº•ä¸Šã’ã™ã‚‹ã€‚',
                    const_change: 'åå¯¾', tax_cut: 'å»ƒæ­¢', free_edu: 'å®Œå…¨ç„¡å„Ÿ', nuke: 'åå¯¾'
                }
            }
        ];

        // Theme Definitions
        const themes = [
            { id: 'economy', icon: 'ğŸ’´', label: 'ãŠé‡‘ãƒ»ç”Ÿæ´»', question: 'ç‰©ä¾¡é«˜ã‚„ç¨é‡‘ã€ã©ã†ã—ã¦ã»ã—ã„ï¼Ÿ' },
            { id: 'education', icon: 'ğŸ«', label: 'å­¦æ ¡ãƒ»å­è‚²ã¦', question: 'å­¦è²»ã‚„å­¦æ ¡ã®ãƒ«ãƒ¼ãƒ«ã€ã©ã†ãªã‚‹ï¼Ÿ' },
            { id: 'peace', icon: 'ğŸ•Šï¸', label: 'å¹³å’Œãƒ»å¤–äº¤', question: 'å›½ã‚’å®ˆã‚‹æ–¹æ³•ã€ã©ã†è€ƒãˆã‚‹ï¼Ÿ' },
            { id: 'future', icon: 'ğŸŒ', label: 'æœªæ¥ãƒ»ã‚¨ãƒ', question: 'ç’°å¢ƒå•é¡Œã‚„æœªæ¥ã®æŠ€è¡“ã¯ï¼Ÿ' }
        ];

        // State
        let currentTheme = 'economy';
        
        // --- 0. RESET: Initialize Poll with ZEROS ---
        let pollData = {
            labels: ['ãŠé‡‘ãƒ»ç”Ÿæ´»', 'å­¦æ ¡ãƒ»å­è‚²ã¦', 'å¹³å’Œãƒ»å¤–äº¤', 'æœªæ¥ãƒ»ç’°å¢ƒ'],
            data: [0, 0, 0, 0] // Start at Zero
        };
        let myChart = null;
        let hasVoted = false;

        // --- FUNCTIONS ---

        // 1. Initialize Theme Explorer
        function initThemes() {
            const btnContainer = document.getElementById('theme-buttons');
            
            themes.forEach(theme => {
                const btn = document.createElement('button');
                btn.className = `px-6 py-3 rounded-full text-sm md:text-base transition-all duration-200 shadow-sm ${theme.id === currentTheme ? 'active-tab' : 'inactive-tab hover:bg-gray-50'}`;
                btn.innerHTML = `${theme.icon} ${theme.label}`;
                btn.onclick = () => switchTheme(theme.id);
                btnContainer.appendChild(btn);
            });

            renderThemeContent();
        }

        // 2. Switch Theme Logic
        function switchTheme(themeId) {
            currentTheme = themeId;
            
            // Update Buttons
            const buttons = document.getElementById('theme-buttons').children;
            Array.from(buttons).forEach((btn, index) => {
                if (themes[index].id === themeId) {
                    btn.className = 'px-6 py-3 rounded-full text-sm md:text-base transition-all duration-200 shadow-sm active-tab';
                } else {
                    btn.className = 'px-6 py-3 rounded-full text-sm md:text-base transition-all duration-200 shadow-sm inactive-tab hover:bg-gray-50';
                }
            });

            renderThemeContent();
        }

        // 3. Render Comparison Cards
        function renderThemeContent() {
            const container = document.getElementById('theme-content');
            container.innerHTML = '';

            // Find current theme question
            const themeObj = themes.find(t => t.id === currentTheme);
            
            // Intro for the section
            const introDiv = document.createElement('div');
            introDiv.className = 'col-span-full mb-2 p-4 bg-orange-50 rounded-lg border border-orange-100';
            introDiv.innerHTML = `
                <h4 class="font-bold text-orange-800 text-center text-lg">${themeObj.icon} ${themeObj.question}</h4>
            `;
            container.appendChild(introDiv);

            // Create cards for each party
            parties.forEach(party => {
                const card = document.createElement('div');
                card.className = `bg-white rounded-xl p-5 card-shadow ${party.borderClass} flex flex-col`;
                card.innerHTML = `
                    <div class="flex items-center justify-between mb-3">
                        <h5 class="font-bold text-lg text-gray-800">${party.name}</h5>
                        <span class="text-xs font-mono bg-gray-100 px-2 py-1 rounded text-gray-500">${party.id.toUpperCase()}</span>
                    </div>
                    <p class="text-gray-700 leading-relaxed flex-grow text-sm md:text-base">
                        ${party.stances[currentTheme]}
                    </p>
                `;
                container.appendChild(card);
            });
        }

        // 4. Render Party Zukan
        function renderPartyZukan() {
            const grid = document.getElementById('party-grid');
            parties.forEach(party => {
                const div = document.createElement('div');
                div.className = 'bg-gray-50 rounded-lg p-4 hover:bg-white border border-transparent hover:border-gray-200 transition-colors';
                div.innerHTML = `
                    <div class="h-2 w-full rounded-full mb-3" style="background-color: ${party.color}"></div>
                    <h4 class="font-bold text-lg mb-1">${party.fullName}</h4>
                    <p class="text-xs text-orange-600 font-bold mb-2">ã€Œ${party.slogan}ã€</p>
                    <p class="text-sm text-gray-600">${party.desc}</p>
                `;
                grid.appendChild(div);
            });
        }

        // 5. Render Matrix
        function renderMatrix() {
            const tbody = document.getElementById('matrix-body');
            parties.forEach(party => {
                const tr = document.createElement('tr');
                tr.className = 'border-b hover:bg-gray-50';
                
                // Helper for status colors
                const getStatusColor = (status) => {
                    if(status.includes('åå¯¾') || status.includes('å»ƒæ­¢') || status.includes('ã‚¼ãƒ­')) return 'text-blue-600 bg-blue-50';
                    if(status.includes('è³›æˆ') || status.includes('ç©æ¥µ') || status.includes('æ¨é€²')) return 'text-red-600 bg-red-50';
                    return 'text-gray-600 bg-gray-100';
                };

                const cellClass = "p-3 text-center";
                const badgeClass = "inline-block px-2 py-1 rounded text-xs font-bold";

                tr.innerHTML = `
                    <td class="p-3 font-bold text-gray-800 border-l-4" style="border-color:${party.color}">${party.name}</td>
                    <td class="${cellClass}"><span class="${badgeClass} ${getStatusColor(party.stances.const_change)}">${party.stances.const_change}</span></td>
                    <td class="${cellClass}"><span class="${badgeClass} ${getStatusColor(party.stances.tax_cut)}">${party.stances.tax_cut}</span></td>
                    <td class="${cellClass}"><span class="${badgeClass} ${getStatusColor(party.stances.free_edu)}">${party.stances.free_edu}</span></td>
                    <td class="${cellClass}"><span class="${badgeClass} ${getStatusColor(party.stances.nuke)}">${party.stances.nuke}</span></td>
                `;
                tbody.appendChild(tr);
            });
        }

        // 6. Interactive Poll (Chart.js)
        function initChart() {
            const ctx = document.getElementById('pollChart').getContext('2d');
            
            // Config for Chart.js
            myChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: pollData.labels,
                    datasets: [{
                        data: pollData.data,
                        backgroundColor: [
                            '#fbbf24', // Yellow for Economy
                            '#f472b6', // Pink for Education
                            '#60a5fa', // Blue for Peace
                            '#34d399'  // Green for Future
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const val = context.raw;
                                    return val > 0 ? context.label + ': ' + val + 'ç¥¨' : '';
                                }
                            }
                        }
                    }
                }
            });
        }

        // Vote Function
        function vote(category) {
            // First time voting? Remove "No votes" message
            if (!hasVoted) {
                document.getElementById('no-votes-msg').style.display = 'none';
                hasVoted = true;
            }

            let index = 0;
            if(category === 'education') index = 1;
            if(category === 'peace') index = 2;
            if(category === 'future') index = 3;

            // Increment selected
            pollData.data[index] += 1;
            
            // Re-render chart
            myChart.data.datasets[0].data = pollData.data;
            myChart.update();

            // Simple visual feedback
            alert('æŠ•ç¥¨ã‚’å—ã‘ä»˜ã‘ã¾ã—ãŸï¼ã‚°ãƒ©ãƒ•ãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸã€‚');
        }

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            initThemes();
            renderPartyZukan();
            renderMatrix();
            initChart();
        });

    </script>
</body>
</html>
